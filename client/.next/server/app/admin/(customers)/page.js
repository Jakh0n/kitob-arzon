(()=>{var e={};e.id=405,e.ids=[405],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},11723:e=>{"use strict";e.exports=require("querystring")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},75280:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=t(70260),a=t(28203),i=t(25155),n=t.n(i),d=t(67292),o={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);t.d(r,o);let l=["",{children:["admin",{children:["(customers)",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,74723)),"/Users/jahkon/Desktop/Redopia/client/app/admin/(customers)/page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,12120)),"/Users/jahkon/Desktop/Redopia/client/app/admin/(customers)/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,54899)),"/Users/jahkon/Desktop/Redopia/client/app/admin/layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,10085)),"/Users/jahkon/Desktop/Redopia/client/app/admin/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,19611)),"/Users/jahkon/Desktop/Redopia/client/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/Users/jahkon/Desktop/Redopia/client/app/admin/(customers)/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/(customers)/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},90188:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"7f148958f46147ca082f0ee6ad5c67efed64421770":()=>s.od,"7f4c6a61c606bace4bb2b5b174ccdb816119cae216":()=>s.d$,"7f4d9ca9d6b949e84c96ba3f548155f44ac640b422":()=>s.DD,"7f67a026e4a27fa3a3afba1108715014ffb183f420":()=>s.vc,"7f6d4f771d6460fcc601186ba04535af92e015bfb5":()=>s.iY,"7f6ff10fb3c3fec661afb56d6266c8005f2e0e0f6b":()=>a.H,"7f7602671dc24cfcae0bcd1d87aaefde75fdff1b57":()=>s.WF,"7f7fb735bd299706b85730d60685e96670b39b7293":()=>s.Ww,"7fb0f1cf649fa3710e5ea21bb5cd74acdb17a65d6c":()=>s.WY,"7fc648e7e1a814b06b9fdff88f6d818265f278d7df":()=>s.I0});var s=t(39018),a=t(73908)},92435:(e,r,t)=>{Promise.resolve().then(t.bind(t,67938)),Promise.resolve().then(t.bind(t,30919)),Promise.resolve().then(t.bind(t,36684)),Promise.resolve().then(t.t.bind(t,92291,23))},86859:(e,r,t)=>{Promise.resolve().then(t.bind(t,65774)),Promise.resolve().then(t.bind(t,1299)),Promise.resolve().then(t.bind(t,59159)),Promise.resolve().then(t.t.bind(t,24671,23))},80157:(e,r,t)=>{Promise.resolve().then(t.bind(t,11936)),Promise.resolve().then(t.bind(t,38562)),Promise.resolve().then(t.bind(t,11844))},98717:(e,r,t)=>{Promise.resolve().then(t.bind(t,5140)),Promise.resolve().then(t.bind(t,24470)),Promise.resolve().then(t.bind(t,12784))},65774:(e,r,t)=>{"use strict";t.d(r,{default:()=>o});var s=t(45512),a=t(44269),i=t(76438),n=t(58009),d=t(1299);function o(){let[e,r]=(0,n.useState)(!1),t=()=>{r(!1)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"md:hidden fixed bottom-4 right-4 bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-full shadow-lg z-50 transition-colors duration-200",onClick:()=>r(!e),children:e?(0,s.jsx)(a.A,{size:24}):(0,s.jsx)(i.A,{size:24})}),e&&(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300",onClick:t}),(0,s.jsx)("div",{className:`fixed inset-y-0 left-0 w-72 bg-white dark:bg-gray-800 shadow-xl transform transition-all duration-300 ease-in-out md:hidden z-50 ${e?"translate-x-0":"-translate-x-full"}`,children:(0,s.jsx)("div",{className:"p-6 h-full overflow-y-auto",children:(0,s.jsx)(d.default,{onClose:t})})})]})}},1299:(e,r,t)=>{"use strict";t.d(r,{default:()=>u});var s=t(45512),a=t(87021),i=t(12784),n=t(48173),d=t(59462),o=t(28531),l=t.n(o),c=t(79334);let u=({onClose:e})=>{let r=(0,c.usePathname)();return(0,s.jsxs)("div",{className:"p-4 shadow-lg",children:[(0,s.jsx)("h1",{className:"font-semibold",children:"Admin"}),(0,s.jsx)(i.Separator,{}),(0,s.jsx)("div",{className:"flex flex-col mt-2",children:n.sD.map(t=>(0,s.jsx)(a.$,{asChild:!0,variant:r===t.route?"secondary":"ghost",className:(0,d.cn)("flex justify-start",r===t.route&&"font-bold"),children:(0,s.jsxs)(l(),{href:t.route,onClick:e,children:[(0,s.jsx)(t.icon,{}),(0,s.jsx)("span",{children:t.name})]})},t.route))})]})}},24470:(e,r,t)=>{"use strict";t.d(r,{default:()=>d});var s=t(45512),a=t(87021),i=t(79334),n=t(59462);let d=({isNext:e,pageNumber:r})=>{let t=(0,i.useRouter)(),d=(0,i.useSearchParams)(),o=e=>{let s=(0,n.eu)({key:"page",params:d.toString(),value:("prev"===e?r-1:r+1).toString()});t.push(s)};return e||1!==r?(0,s.jsxs)("div",{className:"flex w-full items-center justify-center gap-2 mt-4",children:[(0,s.jsx)(a.$,{size:"sm",onClick:()=>o("prev"),disabled:1===r,children:"Prev"}),(0,s.jsx)("p",{children:"1"}),(0,s.jsx)(a.$,{size:"sm",onClick:()=>o("next"),disabled:!e,children:"Next"})]}):null}},39018:(e,r,t)=>{"use strict";t.d(r,{DD:()=>N,I0:()=>b,WF:()=>x,WY:()=>j,Ww:()=>y,d$:()=>m,iY:()=>g,od:()=>h,vc:()=>v});var s=t(88977);t(98063);var a=t(40674),i=t(81342),n=t(73908),d=t(2533),o=t(89251),l=t(51825),c=t(61482),u=t(54488),p=t(56215);let f=new u.a6,m=d._.schema(o.Aj).action(async({parsedInput:e})=>{let r=await (0,l.getServerSession)(i.N),t=await (0,n.H)(r?.currentUser?._id),{data:s}=await a.g.get("/api/admin/products",{headers:{Authorization:`Bearer ${t}`},params:e});return JSON.parse(JSON.stringify(s))}),h=d._.schema(o.Aj).action(async({parsedInput:e})=>{let r=await (0,l.getServerSession)(i.N),t=await (0,n.H)(r?.currentUser?._id),{data:s}=await a.g.get("/api/admin/customers",{headers:{Authorization:`Bearer ${t}`},params:e});return JSON.parse(JSON.stringify(s))}),x=d._.schema(o.Aj).action(async({parsedInput:e})=>{let r=await (0,l.getServerSession)(i.N),t=await (0,n.H)(r?.currentUser?._id),{data:s}=await a.g.get("/api/admin/orders",{headers:{Authorization:`Bearer ${t}`},params:e});return JSON.parse(JSON.stringify(s))}),b=d._.schema(o.Aj).action(async({parsedInput:e})=>{let r=await (0,l.getServerSession)(i.N),t=await (0,n.H)(r?.currentUser?._id),{data:s}=await a.g.get("/api/admin/transactions",{headers:{Authorization:`Bearer ${t}`},params:e});return JSON.parse(JSON.stringify(s))}),j=d._.schema(o.HU).action(async({parsedInput:e})=>{let r=await (0,l.getServerSession)(i.N),t=await (0,n.H)(r?.currentUser?._id),{data:s}=await a.g.post("/api/admin/create-product",{...e,price:parseFloat(e.price)},{headers:{Authorization:`Bearer ${t}`}});return(0,c.revalidatePath)("/admin/products"),JSON.parse(JSON.stringify(s))}),v=d._.schema(o.A$).action(async({parsedInput:e})=>{let r=await (0,l.getServerSession)(i.N),t=await (0,n.H)(r?.currentUser?._id),{data:s}=await a.g.put(`/api/admin/update-product/${e.id}`,{...e,price:parseFloat(e.price)},{headers:{Authorization:`Bearer ${t}`}});return(0,c.revalidatePath)("/admin/products"),JSON.parse(JSON.stringify(s))}),g=d._.schema(o.lW).action(async({parsedInput:e})=>{let r=await (0,l.getServerSession)(i.N),t=await (0,n.H)(r?.currentUser?._id),{id:s,status:d}=e,{data:o}=await a.g.put(`/api/admin/update-order/${s}`,{status:d},{headers:{Authorization:`Bearer ${t}`}});return(0,c.revalidatePath)("/admin/orders"),JSON.parse(JSON.stringify(o))}),N=d._.schema(o.fY).action(async({parsedInput:e})=>{let r=await (0,l.getServerSession)(i.N),t=await (0,n.H)(r?.currentUser?._id),{data:s}=await a.g.delete(`/api/admin/delete-product/${e.id}`,{headers:{Authorization:`Bearer ${t}`}});return(0,c.revalidatePath)("/admin/products"),JSON.parse(JSON.stringify(s))}),y=async e=>{await f.deleteFiles(e)};(0,p.D)([m,h,x,b,j,v,g,N,y]),(0,s.A)(m,"7f4c6a61c606bace4bb2b5b174ccdb816119cae216",null),(0,s.A)(h,"7f148958f46147ca082f0ee6ad5c67efed64421770",null),(0,s.A)(x,"7f7602671dc24cfcae0bcd1d87aaefde75fdff1b57",null),(0,s.A)(b,"7fc648e7e1a814b06b9fdff88f6d818265f278d7df",null),(0,s.A)(j,"7fb0f1cf649fa3710e5ea21bb5cd74acdb17a65d6c",null),(0,s.A)(v,"7f67a026e4a27fa3a3afba1108715014ffb183f420",null),(0,s.A)(g,"7f6d4f771d6460fcc601186ba04535af92e015bfb5",null),(0,s.A)(N,"7f4d9ca9d6b949e84c96ba3f548155f44ac640b422",null),(0,s.A)(y,"7f7fb735bd299706b85730d60685e96670b39b7293",null)},12120:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(62740),a=t(95952);function i(){return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(a.E,{className:"h-8 w-[200px]"}),(0,s.jsx)(a.E,{className:"h-10 w-[120px]"})]}),(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)("div",{className:"space-y-4",children:Array.from({length:5}).map((e,r)=>(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(a.E,{className:"h-12 w-12 rounded-full"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a.E,{className:"h-4 w-[200px]"}),(0,s.jsx)(a.E,{className:"h-4 w-[150px]"})]})]},r))})})})]})}},74723:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(62740),a=t(39018),i=t(11936),n=t(38562),d=t(52216),o=t(11844),l=t(39909),c=t(55946);let u=async e=>{let r=await e.searchParams,t=await (0,a.od)({searchQuery:`${r.q||""}`,filter:`${r.filter||""}`,page:`${r.page||"1"}`}),u=t?.data?.customers,p=t?.data?.isNext||!1;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,s.jsx)("h1",{className:"text-xl font-bold",children:"Customers"}),(0,s.jsx)(i.default,{})]}),(0,s.jsx)(o.Separator,{className:"my-3"}),(0,s.jsxs)(l.XI,{children:[(0,s.jsx)(l.r6,{children:"A list of your recent custoemrs."}),(0,s.jsx)(l.A0,{children:(0,s.jsxs)(l.Hj,{children:[(0,s.jsx)(l.nd,{children:"№"}),(0,s.jsx)(l.nd,{children:"Email"}),(0,s.jsx)(l.nd,{children:"Full Name"}),(0,s.jsx)(l.nd,{children:"Orders"}),(0,s.jsx)(l.nd,{children:"Status"}),(0,s.jsx)(l.nd,{className:"text-right",children:"Payments"})]})}),(0,s.jsxs)(l.BF,{children:[u&&0===u.length&&(0,s.jsx)(l.Hj,{children:(0,s.jsx)(l.nA,{colSpan:6,className:"text-center",children:"No customers found."})}),u&&u.map((e,r)=>(0,s.jsxs)(l.Hj,{children:[(0,s.jsxs)(l.nA,{children:["№",r+1]}),(0,s.jsx)(l.nA,{children:e.email}),(0,s.jsx)(l.nA,{children:e.fullName}),(0,s.jsx)(l.nA,{children:(0,s.jsx)(d.E,{children:e.orderCount})}),(0,s.jsx)(l.nA,{children:(0,s.jsx)(d.E,{variant:e.isDeleted?"destructive":"secondary",children:e.isDeleted?"Deleted":"Active"})}),(0,s.jsx)(l.nA,{className:"text-right",children:(0,s.jsx)(d.E,{variant:"outline",children:(0,c.$g)(e.totalPrice)})})]},e._id))]})]}),(0,s.jsx)(n.default,{isNext:p,pageNumber:r?.page?+r.page:1})]})}},67938:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jahkon/Desktop/Redopia/client/app/admin/_components/mobile-sidebar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jahkon/Desktop/Redopia/client/app/admin/_components/mobile-sidebar.tsx","default")},30919:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jahkon/Desktop/Redopia/client/app/admin/_components/sidebar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jahkon/Desktop/Redopia/client/app/admin/_components/sidebar.tsx","default")},54899:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var s=t(62740),a=t(36684),i=t(81342),n=t(51825),d=t(31831),o=t(92291),l=t.n(o);t(76301);var c=t(67938),u=t(30919);let p=async function({children:e}){let r=await (0,n.getServerSession)(i.N);return(r||(0,d.redirect)("/sign-in"),r.currentUser?.role!=="admin")?(0,d.redirect)("/"):(0,s.jsxs)("div",{children:[(0,s.jsx)(a.default,{session:r}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsx)(c.default,{}),(0,s.jsx)("div",{className:"hidden md:block md:col-span-1",children:(0,s.jsx)(u.default,{})}),(0,s.jsxs)("div",{className:"col-span-1 md:col-span-2 pb-10",children:[(0,s.jsx)(l(),{}),e]})]})]})}},10085:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(62740),a=t(5543);function i(){return(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:(0,s.jsx)(a.A,{className:"h-8 w-8 animate-spin text-primary"})})}},38562:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jahkon/Desktop/Redopia/client/components/shared/pagination.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jahkon/Desktop/Redopia/client/components/shared/pagination.tsx","default")},95952:(e,r,t)=>{"use strict";t.d(r,{E:()=>i});var s=t(62740),a=t(55946);function i({className:e,...r}){return(0,s.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-primary/10",e),...r})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[10,50,836,124,970,576,195,853,524,360,389,255,171],()=>t(75280));module.exports=s})();